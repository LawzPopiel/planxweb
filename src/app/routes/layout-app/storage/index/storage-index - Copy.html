<div class="storage.index" state-change="changeState">
    <div class="page-header">
        <h1><i class="fa fa-database"></i> Transload Tracking</h1>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading"><i class="fa fa-search"></i> Search</div>
        <div class="panel-body">
            <form name="StorageTrackingFilterForm">
                <table style="width: 100%;" class="search-table">
                    <tr>
                        <th width="25%">Transload Invoice #</th>
                        <td width="25%">
                            <input type="text" class="form-control" ng-model="vm.filter.InvoiceNumber">
                        </td>
                        <th width="25%">Storage Facility Ticket #</th>
                        <td width="25%"><input type="text" class="form-control" ng-model="vm.filter.StorageFacilityNumber"></td>
                    </tr>
                    <tr>
                        <th>Invoice Date</th>
                        <td>
                            <date-picker ng-model="vm.filter.InvoiceDate"></date-picker>
                        </td>
                        <th>Storage Facility</th>
                        <td>
                          <database-select options="vm.StorageFacilities" parent="vm.filter" name="StorageFacility"></database-select>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3"></td>
                        <td class="pull-right">
                            <button class="btn btn-primary" ng-disabled="vm.isSearchable() === false" style="width: 100px;" type="submit" ng-click="vm.search()">Search</button>
                            <button class="btn btn-default" ng-click="vm.clearFilter()"><i class="fa fa-times"></i></button>
                        </td>
                    </tr>
                </table>
            </form>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading pointer" ng-click="vm.toggleSearch()">
            <span class="pull-right">
                <button class="btn btn-primary btn-xs" ui-sref="app.storage.index.add()"><i class="fa fa-plus"></i> Add</button>
            </span>
            <i class="fa" ng-class="{ 'fa-caret-down': vm.enableResults, 'fa-caret-right': !vm.enableResults}"></i>
            <i class="fa fa-navicon"></i> Search Results</div>
        <div ng-if="vm.enableResults">
            <div class="panel-body" ng-if="vm.filtering">
                <storage-index-list filters="vm.tableFilters"></storage-index-list>
            </div>
            <div class="panel-body" ng-if="!vm.filtering">
                <em>You need to set a filter.</em>
            </div>
        </div>
    </div>
    <ui-view id="storage-form"></ui-view>
</div>
